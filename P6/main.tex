\documentclass{article}
\usepackage[utf8]{inputenc} % Obsługa kodowania UTF-8
\usepackage[T1]{fontenc}    % Kodowanie czcionek T1
\usepackage{polski}         % Obsługa języka polskiego
\usepackage{babel}          % Wsparcie dla polskich reguł typograficznych
\usepackage{graphicx}       % Wymagane do wstawiania obrazów
\usepackage{amsmath}        % Obsługa zaawansowanych funkcji matematycznych
\usepackage[a4paper, margin=1in]{geometry}
\usepackage{listings}       % Obsługa wstawiania kodu źródłowego
\usepackage{xcolor}
\usepackage{listings}
\usepackage{verbatim}

\input{komendy.tex}
\begin{document}
\sloppy
\begin{center}
    \small
        \renewcommand{\arraystretch}{1.3} % Zmniejszenie odstępów między wierszami
        \setlength{\tabcolsep}{20pt} % Zmniejszenie odstępów między kolumnami
        \begin{tabular}{|c|c|c|}
            \hline %chktex 44
            \multicolumn{3}{|c|}{\large Wydział Nauk Inżynieryjnych ANS w Nowym Sączu}   \\
            \multicolumn{3}{|c|}{\large }   \\
            \hline %chktex 44
            \multicolumn{3}{|c|}{\large Temat: P6} \\
            \hline %chktex 44
            \large Nazwisko i imię: & \large Ocena sprawozdania & \large Zaliczenie:\\
            \cline{2-3}
            \large Dominik Żuchowicz & & \\
            \hline
            \large Data wykonania ćwiczenia:&\multicolumn{2}{l|}{\large Grupa:}\\
            \large  17.03.2025 &\multicolumn{2}{l|}{\large L3}\\
            \hline
        \end{tabular}
    \end{center}

    \section*{Wprowadzenie}
    Współczesne systemy operacyjne i procesory oferują różnorodne mechanizmy synchronizacji, które pozwalają na bezpieczne współdzielenie zasobów między wieloma wątkami. Jednym z kluczowych elementów tych mechanizmów są operacje atomowe, które zapewniają integralność danych i eliminują problemy związane z wyścigami danych.

    \section*{Zadania}
        \begin{enumerate}
            
            \item Opisz czym są operacje atomowe.
            \item Dlaczego są tak przydatne w programowaniu wielowątkowym?
            \item Przetestuj KOD7/8 zastępując mutex operacjami atomowymi.
        \end{enumerate}
    \section*{Operacje atomowe}
    Operacje atomowe to takie operacje, które są wykonywane jako niepodzielne, co oznacza, że nie mogą zostać przerwane przez inne wątki w trakcie ich wykonywania. Są one realizowane sprzętowo przez procesor, co zapewnia ich integralność i spójność. Przykłady takich operacji to inkrementacja, dekrementacja, czy porównanie i zamiana wartości w pamięci.

    \section*{Przydatność w programowaniu wielowątkowym}
    Operacje atomowe są niezwykle przydatne w programowaniu wielowątkowym, ponieważ pozwalają uniknąć problemów związanych z wyścigami danych (ang. race conditions). Dzięki nim można bezpiecznie modyfikować współdzielone zasoby bez konieczności stosowania bardziej kosztownych mechanizmów synchronizacji, takich jak muteksy czy semafory. To z kolei prowadzi do poprawy wydajności i uproszczenia kodu w aplikacjach wielowątkowych.
    
    \section*{Testowanie KOD7/8}
    W ramach ćwiczenia przetestowano KOD7/8, zastępując mutex operacjami atomowymi. Poniżej przedstawiono fragmenty kodu, które ilustrują tę zmianę.

    \clearpage
    Przed zmianą:
    \fg{zdjecia/1.png}{Przed zmianą}{zdjecia-1}
     \\Po zmianie:
    \fg{zdjecia/2.png}{Po zmianie}{zdjecia-2}
    \clearpage
        

    \verbatiminput{kod/10_atomic.cpp}
    

    \section*{Wnioski}
    W wyniku przeprowadzonych testów stwierdzono, że zastosowanie operacji atomowych w miejsce mutexów znacząco poprawiło wydajność aplikacji. Operacje atomowe są szybsze i bardziej efektywne, co czyni je idealnym rozwiązaniem w przypadku prostych operacji na współdzielonych zasobach. Warto jednak pamiętać, że w bardziej złożonych scenariuszach, gdzie konieczne jest zarządzanie większą ilością danych lub bardziej skomplikowanymi strukturami, muteksy mogą być bardziej odpowiednie.

\end{document}
